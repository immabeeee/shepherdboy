<div class="org-table">
    <table mat-table [dataSource]="orderItems || []" class="example-table" multiTemplateDataRows
        data-test-id="org-order-items-table">
        <ng-container matColumnDef="position">
            <th mat-header-cell *matHeaderCellDef> {{'ORDER.ORDER_LIST.HEADER.POSITION' |
                translate}}
            </th>
            <td mat-cell *matCellDef="let element; let i = dataIndex">{{i + 1}}</td>
        </ng-container>

        <ng-container matColumnDef="name">
            <th mat-header-cell *matHeaderCellDef>{{'ORDER.ORDER_LIST.HEADER.ITEMS_QUANTITY'
                |
                translate}}</th>
            <td mat-cell *matCellDef="let row">{{row.oscypek.name}}</td>
        </ng-container>

        <ng-container matColumnDef="price">
            <th mat-header-cell *matHeaderCellDef>{{'ORDER.ORDER_LIST.HEADER.ITEMS_AMOUNT' |
                translate}}</th>
            <td mat-cell *matCellDef="let row"><strong>{{row.oscypek.price}}</strong></td>
        </ng-container>

        <ng-container matColumnDef="quantity">
            <th mat-header-cell *matHeaderCellDef>{{'ORDER.ORDER_LIST.HEADER.ITEMS_QUANTITY'
                |
                translate}}</th>
            <td mat-cell *matCellDef="let row"><strong>{{row.oscypek.quantity}}</strong></td>
        </ng-container>

        <ng-container matColumnDef="size">
            <th mat-header-cell *matHeaderCellDef>{{'ORDER.ORDER_LIST.HEADER.SIZE' |
                translate}}</th>
            <td mat-cell *matCellDef="let row">
                <mat-chip-list class="org-mat-chip">
                    <mat-chip>
                        <span matChipAvatar>üçΩ</span>
                        {{row.oscypek.size | translate}}
                    </mat-chip>
                </mat-chip-list>
            </td>
        </ng-container>

        <ng-container matColumnDef="type">
            <th mat-header-cell *matHeaderCellDef>{{'ORDER.ORDER_LIST.HEADER.TYPE' |
                translate}}</th>
            <td mat-cell *matCellDef="let row">
                <mat-chip-list class="org-mat-chip">
                    <mat-chip>
                        <span matChipAvatar>üî•</span>
                        {{row.oscypek.type | translate}}
                    </mat-chip>
                </mat-chip-list>
            </td>
        </ng-container>

        <ng-container matColumnDef="noRecord">
            <td id="no-records-row" [attr.colspan]="displayedColumns.length" mat-footer-cell *matFooterCellDef
                data-test-id="org-order-items-table-no-records">
                {{'ORDER.ORDER_LIST.EMPTY' | translate}}
            </td>
        </ng-container>

        <ng-container matColumnDef="expandedDetail">
            <td style="padding: 0" mat-cell *matCellDef="let row" [attr.colspan]="displayedColumns.length">
                <div class="inner-table-container">
                    <table mat-table [dataSource]="row.additives" class="mat-gray-table"
                        data-test-id="org-order-item-additives-table">
                        <ng-container matColumnDef="position">
                            <th mat-header-cell *matHeaderCellDef> {{'ORDER.ORDER_LIST.HEADER.POSITION' |
                                translate}}
                            </th>
                            <td mat-cell *matCellDef="let element; let i = index">{{i + 1}}</td>
                        </ng-container>

                        <ng-container matColumnDef="name">
                            <th mat-header-cell *matHeaderCellDef>{{'ORDER.ORDER_LIST.HEADER.ITEMS_QUANTITY'
                                |
                                translate}}</th>
                            <td mat-cell *matCellDef="let element">{{element.name | translate}}</td>
                        </ng-container>

                        <ng-container matColumnDef="price">
                            <th mat-header-cell *matHeaderCellDef>{{'ORDER.ORDER_LIST.HEADER.ITEMS_AMOUNT' |
                                translate}}</th>
                            <td mat-cell *matCellDef="let element"><strong>{{element.price}}</strong></td>
                        </ng-container>

                        <ng-container matColumnDef="quantity">
                            <th mat-header-cell *matHeaderCellDef>{{'ORDER.ORDER_LIST.HEADER.ITEMS_QUANTITY'
                                |
                                translate}}</th>
                            <td mat-cell *matCellDef="let element"><strong>{{element.quantity}}</strong></td>
                        </ng-container>

                        <ng-container matColumnDef="noRecord">
                            <td id="no-records-row" [attr.colspan]="displayedColumns.length" mat-footer-cell
                                *matFooterCellDef data-test-id="org-order-item-additives-table-no-records">
                                {{'ORDER.ORDER_LIST.EMPTY' | translate}}
                            </td>
                        </ng-container>

                        <tr mat-header-row *matHeaderRowDef="expandedRowDisplayedColumns"></tr>
                        <tr mat-row *matRowDef="
                        let row;
                        columns: expandedRowDisplayedColumns
                      " class="element-row" data-test-id="org-order-item-additives-table-row"></tr>
                        <ng-template [ngIf]="row.additives.length === 0">
                            <tr mat-footer-row *matFooterRowDef="['noRecord']">
                            </tr>
                        </ng-template>
                    </table>
                </div>
            </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;" data-test-id="org-order-items-table-row">
        </tr>
        <tr mat-row *matRowDef="
          let row;
          columns: ['expandedDetail'];
          let k = dataIndex;
        "></tr>
        <ng-template [ngIf]="orderItems.length === 0">
            <tr mat-footer-row *matFooterRowDef="['noRecord']"></tr>
        </ng-template>
    </table>
</div>